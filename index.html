<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Plataforma Archivos 3D Médicos</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<div class="container">

  <!-- MENU SUPERIOR -->
  <div style="display:flex;gap:1rem;margin-bottom:1.5rem">
    <button class="btn btn-blue" onclick="mostrarVista('view-auth')">Registro / Login</button>
    <button class="btn btn-blue" onclick="mostrarVista('view-catalogo')">Catálogo</button>
    <button class="btn btn-blue" onclick="mostrarVista('view-upload')">Subir pieza</button>
    <button class="btn btn-blue" onclick="mostrarVista('view-historial')">Historial descargas</button>
    <button class="btn btn-blue" onclick="mostrarVista('view-preferencias')">Preferencias</button>
  </div>

  <!-- REGISTRO / LOGIN -->
  <section class="seccion" id="view-auth">
    <h2>Acceso</h2><br>
    <input id="regName" placeholder="Nombre" class="form-input" /><br><br>
    <input id="regEmail" type="email" placeholder="Email" class="form-input" /><br><br>
    <input id="regPass" type="password" placeholder="Contraseña" class="form-input" /><br><br>
    <button class="btn btn-primary" id="btnRegister">Crear Cuenta</button><br>
    <button class="btn btn-blue" id="btnLogin">Iniciar sesión</button><br>
    <div id="authStatus" class="form-footer"></div>
  </section>

  <!-- CATALOGO -->
  <section class="seccion activa" id="view-catalogo">
    <h2>Catálogo de piezas</h2><br>
    <div class="search-box">
      <input id="searchInput" placeholder="Buscar piezas médicas..." />
    </div>
    <div id="cardsContainer"></div>
    <div id="piecesCount">0 piezas</div>
  </section>

  <!-- SUBIR PIEZA -->
  <section class="seccion" id="view-upload">
    <h2>Subir pieza</h2>
    <input id="upName" placeholder="Nombre pieza" class="form-input" /><br><br>
    <input id="upMaterial" placeholder="Material" class="form-input" /><br><br>
    <input id="upProceso" placeholder="Proceso" class="form-input" /><br><br>
    <input id="upEquipo" placeholder="Equipo médico" class="form-input" /><br><br>
    <input id="upDims" placeholder="Medidas mm" class="form-input" /><br><br>
    <input id="upUso" placeholder="Uso" class="form-input" /><br><br>

    <select id="upFormat" class="form-input">
      <option value="stl">STL</option>
      <option value="step">STEP</option>
      <option value="obj">OBJ</option>
      <option value="pdf">PDF</option>
    </select><br><br>

    <input id="upFile" type="file" class="form-input" /><br><br>
    <button class="btn btn-blue" id="btnUpload">Subir archivo</button>
    <div id="uploadStatus" class="form-footer"></div>
  </section>

  <!-- DETALLE PIEZA -->
  <section class="seccion" id="view-detalle">
    <h2 id="detailTitle">–</h2>
    <p id="detailSubtitle" class="detail"></p><br>
    <dl>
      <dt>Medidas:</dt><dd id="detailDims">–</dd>
      <dt>Equipo médico:</dt><dd id="detailEquipo">–</dd>
      <dt>Uso:</dt><dd id="detailUso">–</dd>
    </dl><br>

    <div class="btn-group">
      <button class="btn btn-blue" id="btnStl">Descargar STL</button>
      <button class="btn btn-blue" id="btnStep">Descargar STEP</button>
      <button class="btn btn-blue" id="btnObj">Descargar OBJ</button>
      <button class="btn btn-disabled" id="btnPdf">Manual PDF (en preparación)</button>
    </div>
  </section>

  <!-- HISTORIAL -->
  <section class="seccion" id="view-historial">
    <h2>Historial</h2><br>
    <div id="historyList"></div>
  </section>

  <!-- PREFERENCIAS -->
  <section class="seccion" id="view-preferencias">
    <h2>Ajustes</h2><br>
    <select id="prefLanguage" class="form-input">
      <option value="es">Español</option>
      <option value="en">Inglés</option>
    </select><br><br>

    <div class="form-label">Formato de descarga preferido:</div>
    <div class="chip-group">
      <div class="chip active" data-format="stl">STL</div>
      <div class="chip" data-format="step">STEP</div>
      <div class="chip" data-format="obj">OBJ</div>
    </div><br><br>

    <button class="btn btn-blue" id="btnSavePrefs">Guardar</button>
  </section>

</div>

<script src="app.js"></script>
</body>
</html>
